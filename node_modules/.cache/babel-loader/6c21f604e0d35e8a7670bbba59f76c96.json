{"ast":null,"code":"'use strict';\n\nconst CID = require('cids');\n\nconst multihashing = require('multihashing-async');\n\nconst multicodec = require('multicodec'); // binary resolver\n\n\nmodule.exports = {\n  codec: multicodec.RAW,\n  defaultHashAlg: multicodec.SHA2_256,\n  resolver: {\n    /**\n     * Resolves a path within a Raw block.\n     *\n     * Always returns the raw data as value without any remainderPath.\n     *\n     * @param {Buffer} binaryBlob - Binary representation of a PB block\n     * @param {string} [path='/'] - Path that should be resolved.  Must be '/' or an exception is thrown\n     * @returns {Object} result - Result of the path it it was resolved successfully\n     * @returns {*} result.value - The raw data\n     * @returns {string} result.remainderPath - An empty string\n     */\n    resolve: (binaryBlob, path) => {\n      if (path !== '/') {\n        throw new Error('Only the root path / may be resolved');\n      }\n\n      return {\n        value: binaryBlob,\n        remainderPath: ''\n      };\n    },\n\n    /**\n     * Return all available paths of a block.\n     *\n     * @generator\n     * @param {Buffer} binaryBlob - The raw data\n     * @returns {Object} - Finished generator with `done: true`\n     */\n    tree: binaryBlob => {\n      return {\n        done: true\n      };\n    }\n  },\n  util: {\n    deserialize: data => {\n      return data;\n    },\n    serialize: data => {\n      return data;\n    },\n\n    /**\n     * Calculate the CID of the binary blob.\n     *\n     * @param {Object} binaryBlob - Encoded IPLD Node\n     * @param {Object} [userOptions] - Options to create the CID\n     * @param {number} [userOptions.cidVersion=1] - CID version number\n     * @param {string} [UserOptions.hashAlg] - Defaults to the defaultHashAlg of the format\n     * @returns {Promise.<CID>}\n     */\n    cid: async (binaryBlob, userOptions) => {\n      const defaultOptions = {\n        cidVersion: 1,\n        hashAlg: module.exports.defaultHashAlg\n      };\n      const options = Object.assign(defaultOptions, userOptions);\n      const multihash = await multihashing(binaryBlob, options.hashAlg);\n      const codecName = multicodec.print[module.exports.codec];\n      const cid = new CID(options.cidVersion, codecName, multihash);\n      return cid;\n    }\n  }\n};","map":{"version":3,"sources":["/Users/velkoskis/Desktop/Claims/node_modules/ipld-raw/src/index.js"],"names":["CID","require","multihashing","multicodec","module","exports","codec","RAW","defaultHashAlg","SHA2_256","resolver","resolve","binaryBlob","path","Error","value","remainderPath","tree","done","util","deserialize","data","serialize","cid","userOptions","defaultOptions","cidVersion","hashAlg","options","Object","assign","multihash","codecName","print"],"mappings":"AAAA;;AACA,MAAMA,GAAG,GAAGC,OAAO,CAAC,MAAD,CAAnB;;AACA,MAAMC,YAAY,GAAGD,OAAO,CAAC,oBAAD,CAA5B;;AACA,MAAME,UAAU,GAAGF,OAAO,CAAC,YAAD,CAA1B,C,CAEA;;;AACAG,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,KAAK,EAAEH,UAAU,CAACI,GADH;AAEfC,EAAAA,cAAc,EAAEL,UAAU,CAACM,QAFZ;AAGfC,EAAAA,QAAQ,EAAE;AACR;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,IAAAA,OAAO,EAAE,CAACC,UAAD,EAAaC,IAAb,KAAsB;AAC7B,UAAIA,IAAI,KAAK,GAAb,EAAkB;AAChB,cAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;AACD;;AAED,aAAO;AACLC,QAAAA,KAAK,EAAEH,UADF;AAELI,QAAAA,aAAa,EAAE;AAFV,OAAP;AAID,KArBO;;AAsBR;AACJ;AACA;AACA;AACA;AACA;AACA;AACIC,IAAAA,IAAI,EAAGL,UAAD,IAAgB;AACpB,aAAO;AACLM,QAAAA,IAAI,EAAE;AADD,OAAP;AAGD;AAjCO,GAHK;AAsCfC,EAAAA,IAAI,EAAE;AACJC,IAAAA,WAAW,EAAGC,IAAD,IAAU;AACrB,aAAOA,IAAP;AACD,KAHG;AAIJC,IAAAA,SAAS,EAAGD,IAAD,IAAU;AACnB,aAAOA,IAAP;AACD,KANG;;AAOJ;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIE,IAAAA,GAAG,EAAE,OAAOX,UAAP,EAAmBY,WAAnB,KAAmC;AACtC,YAAMC,cAAc,GAAG;AAAEC,QAAAA,UAAU,EAAE,CAAd;AAAiBC,QAAAA,OAAO,EAAEvB,MAAM,CAACC,OAAP,CAAeG;AAAzC,OAAvB;AACA,YAAMoB,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAcL,cAAd,EAA8BD,WAA9B,CAAhB;AAEA,YAAMO,SAAS,GAAG,MAAM7B,YAAY,CAACU,UAAD,EAAagB,OAAO,CAACD,OAArB,CAApC;AACA,YAAMK,SAAS,GAAG7B,UAAU,CAAC8B,KAAX,CAAiB7B,MAAM,CAACC,OAAP,CAAeC,KAAhC,CAAlB;AACA,YAAMiB,GAAG,GAAG,IAAIvB,GAAJ,CAAQ4B,OAAO,CAACF,UAAhB,EAA4BM,SAA5B,EAAuCD,SAAvC,CAAZ;AAEA,aAAOR,GAAP;AACD;AAzBG;AAtCS,CAAjB","sourcesContent":["'use strict'\nconst CID = require('cids')\nconst multihashing = require('multihashing-async')\nconst multicodec = require('multicodec')\n\n// binary resolver\nmodule.exports = {\n  codec: multicodec.RAW,\n  defaultHashAlg: multicodec.SHA2_256,\n  resolver: {\n    /**\n     * Resolves a path within a Raw block.\n     *\n     * Always returns the raw data as value without any remainderPath.\n     *\n     * @param {Buffer} binaryBlob - Binary representation of a PB block\n     * @param {string} [path='/'] - Path that should be resolved.  Must be '/' or an exception is thrown\n     * @returns {Object} result - Result of the path it it was resolved successfully\n     * @returns {*} result.value - The raw data\n     * @returns {string} result.remainderPath - An empty string\n     */\n    resolve: (binaryBlob, path) => {\n      if (path !== '/') {\n        throw new Error('Only the root path / may be resolved')\n      }\n\n      return {\n        value: binaryBlob,\n        remainderPath: ''\n      }\n    },\n    /**\n     * Return all available paths of a block.\n     *\n     * @generator\n     * @param {Buffer} binaryBlob - The raw data\n     * @returns {Object} - Finished generator with `done: true`\n     */\n    tree: (binaryBlob) => {\n      return {\n        done: true\n      }\n    }\n  },\n  util: {\n    deserialize: (data) => {\n      return data\n    },\n    serialize: (data) => {\n      return data\n    },\n    /**\n     * Calculate the CID of the binary blob.\n     *\n     * @param {Object} binaryBlob - Encoded IPLD Node\n     * @param {Object} [userOptions] - Options to create the CID\n     * @param {number} [userOptions.cidVersion=1] - CID version number\n     * @param {string} [UserOptions.hashAlg] - Defaults to the defaultHashAlg of the format\n     * @returns {Promise.<CID>}\n     */\n    cid: async (binaryBlob, userOptions) => {\n      const defaultOptions = { cidVersion: 1, hashAlg: module.exports.defaultHashAlg }\n      const options = Object.assign(defaultOptions, userOptions)\n\n      const multihash = await multihashing(binaryBlob, options.hashAlg)\n      const codecName = multicodec.print[module.exports.codec]\n      const cid = new CID(options.cidVersion, codecName, multihash)\n\n      return cid\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}